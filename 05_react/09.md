<h1>Introdu√ß√£o ao React Router DOM</h1>



Antes de entrarmos no assunto Rotas, vamos relembrar o que √© um Componente React?

<div align="center"><img src="https://i.imgur.com/9RpbB98.png" title="source: imgur.com" /></div>

***Um Componente React √© uma Fun√ß√£o JavaScript/TypeScript que retorna (renderiza no Navegador) c√≥digo HTML e CSS.***

At√© o momento, foram criados 3 Componentes na sua aplica√ß√£o:

- *Navbar*
- *Home*
- *Footer*

Os 3 Componentes criados foram inseridos dentro do Componente **App**, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/nmgCyMP.png" title="source: imgur.com" /></div>

A nossa aplica√ß√£o, n√£o ser√° composta por apenas 3 Componentes, at√© porqu√™ o nosso Backend do Projeto Blog Pessoal possui 17 endpoints, que podem ser consumidos. No Projeto React do Blog Pessoal, ainda vamos construir os seguintes Componentes:

- **Cadastrar Usu√°rio**
- **Login**
- **Listar Temas**
- **Listar Postagens**
- **Cadastrar/Atualizar Tema**
- **Cadastrar/Atualizar Postagem**
- **Deletar Tema**
- **Deletar Postagem**
- **Perfil**

Ap√≥s a constru√ß√£o de todos estes Componentes, todos eles dever√£o ser inseridos dentro do Componente **App** para ficarem dispon√≠veis na nossa aplica√ß√£o, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/t2QaF3P.png" title="source: imgur.com" /></div>

Entretanto, se apenas adicionarmos todos os Componentes criados dentro do Componente APP, todos eles ser√£o renderizados no Navegador ao mesmo tempo, deixando a nossa aplica√ß√£o desorganizada e n√£o √© isso que n√≥s queremos. No est√°gio atual da nossa aplica√ß√£o, o React est√° fazendo exatamente isso: **Renderizando no Navegador todos os Componentes inseridos no Componente App, sem nenhum controle**, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/geHyvaM.png" title="source: imgur.com" /></div>

O Comportamento esperado da nossa aplica√ß√£o √© que cada Componente seja exibido na tela, de acordo com a op√ß√£o escolhida do Menu (Componente Navbar), ou que seja invocado a partir de um outro Componente, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/FWRzlMh.png" title="source: imgur.com" /></div>

Observe que no Componente Navbar, n√≥s temos 5 op√ß√µes no menu. Ao clicar em cada uma destas op√ß√µes, um Componente diferente ser√° renderizado na √°rea onde est√° o Componente Home. Os Componentes **Navbar** e **Footer** ser√£o est√°ticos, enquanto a √°rea onde est√° atualmente o Componente Home ser√° din√¢mica.

Para conseguirmos obter o comportamento esperado e controlar exatamente quais Componentes ser√£o carregados em cada op√ß√£o do menu, utilizaremos a Biblioteca **React Router DOM**, que estabelecer√° Rotas (caminhos) para cada Componente da nossa aplica√ß√£o, organizando o carregamento dos Componentes.

<br />

<h2>1. React Router DOM</h2>



O **React Router DOM** √© uma das Bibliotecas mais populares para o Gerenciamento de Rotas no React, tamb√©m utilizada no React Native. O **React Router DOM** facilita o desenvolvimento ao gerir o carregamento dos componentes por meio de rotas, tornando o processo mais simples e escal√°vel. Com ele, √© poss√≠vel definir os caminhos para renderizar cada componente e passar par√¢metros atrav√©s da URL (Path Variables - Vari√°veis de Caminho).

<div align="center"><img src="https://i.imgur.com/askn5MH.png" title="source: imgur.com" width="50%"/></div>

Em uma aplica√ß√£o React, √© essencial estruturar rotas para organizar a renderiza√ß√£o dos componentes. Isso permite que, ao navegar, os componentes corretos sejam exibidos de acordo com a URL invocada. Embora o React n√£o possua um sistema de rotas nativo, o conceito de rotas √© fundamental em toda a web, pois √© o que permite a navega√ß√£o pelos sites.

<br />

<div align="left"><img src="https://i.imgur.com/ey5iP4N.png" title="source: imgur.com" width="4%"/> <a href="https://reactrouter.com/en/main" target="_blank"><b>React Router</b></a></div>

<br />

<h2>2. Componentes do React Router DOM</h2>



O React Router DOM tem os seus Componentes divididos em tr√™s categorias, sendo que cada categoria √© fundamental para o funcionamento  da aplica√ß√£o.

<br />

<h3>2.1. Roteador</h3>



O **BrowserRouter** √© o Componente essencial para implementar o roteamento em aplica√ß√µes React, que utilizam o React Router DOM. Ele funciona como um cont√™iner que engloba toda a aplica√ß√£o, gerenciando a navega√ß√£o e a atualiza√ß√£o da interface com base na URL do navegador.

O **BrowserRouter** utiliza a API de hist√≥rico do navegador para manter o controle de todas as p√°ginas que foram acessadas, permitindo o uso de uma navega√ß√£o tradicional, com URL's limpas e a possibilidade de voltar e avan√ßar entre as p√°ginas atrav√©s dos bot√µes de navega√ß√£o do navegador.

O Componente **Browser Router** geralmente √© adicionado no Componente APP, envolvendo todos os Componentes adicionados.

**Sintaxe:**

```tsx
<BrowserRouter>
	// Componentes Adicionados no Componente APP
</BrowserRouter>
```

<br />

<h3>2.2. Gerenciador de rotas</h3>



Para Gerenciar as nossas Rotas, utilizaremos os Componentes **Routes** e **Route**. 

O Componente **Routes** √© o Gerenciador das Rotas, que pode ser renderizado em qualquer Componente do aplicativo. Geralmente o Componente Route √© inserido dentro do Componente principal da aplica√ß√£o React (Componente **App**). Na pr√°tica, o Componente Routes corresponde a um conjunto de rotas filhas do Componente onde ele foi inserido.

O Componente **Route** √© respons√°vel por associar segmentos de URL (/postagens, /temas, entre outras), ou seja, a rota propriamente dita, ao Componente da Aplica√ß√£o React. Atrav√©s de um conjunto de rotas aninhadas, layouts de aplicativos complexos e depend√™ncias de dados tornam-se simples e declarativos. Em poucas palavras, para cada rota criada, ser√° inserido um Componente Route, dentro do Componente Routes.

**Sintaxe:**

```tsx
<BrowserRouter>
	<Routes>
		<Route path="/rota" element={<Componente />} />
    </Routes>
</BrowserRouter>
```

O Componente **BrowserRouter** √© o Componente que habilita o roteamento em uma aplica√ß√£o React. Ele deve ser o cont√™iner ao redor dos seus Componentes que precisam de roteamento.

O Componente **Routes**  √© o Componente respons√°vel por renderizar a rota correspondente √† URL definida em cada  rota, criada pelo Componente **Route**.

O Componente **Route** √© o Componente respons√°vel por definir uma rota espec√≠fica. Ele associa uma URL a um Componente que ser√° renderizado quando essa rota for acessada. 

O Componente Route possui dois par√¢metros:

- **path:** Onde indicamos a rota (caminho);
- **element:** Onde indicamos o Componente que ser√° renderizado nesta rota.

<br />

> [!WARNING]
>
> Os links gerados pelo Componente **BrowserRouter**, embora sigam o modelo de URL padr√£o, no final do endere√ßo n√≥s n√£o teremos a indica√ß√£o da p√°gina HTML ou do Componente React (contato.html ou home.tsx, por exemplo), como vimos anteriormente no conte√∫do sobre HTML. 
>
> O React n√£o trabalha com P√°ginas e sim com Componentes, logo as rotas ser√£o semelhantes as URL's dos endpoints da nossa API (/postagens, /temas, entre outras).

<br />

<h4>2.2.1. A Propriedade Path</h4>



A Propriedade **path**, do **Componente Route**, merece um cap√≠tulo a parte, porque ela oferece algumas configura√ß√µes bem interessantes para construirmos as rotas de uma aplica√ß√£o React:

A rota "**/**" (conhecida como root ou index), representa a rota raiz da aplica√ß√£o React, ou seja, ela indica qual ser√° o primeiro Componente que ser√° renderizado na tela do Navegador, ao abrir a aplica√ß√£o React. Esta rota deve ser obrigatoriamente definida, caso contr√°rio n√£o ser√° renderizado nenhum Componente ao abrir a aplica√ß√£o React.

**Sintaxe:**

```tsx
<BrowserRouter>
	<Routes>
		<Route path="/" element={<Componente />} />
    </Routes>
</BrowserRouter>
```

<br />

2. Dentro do par√¢metro **path**, tamb√©m podemos adicionar **Par√¢metros** ou **Vari√°veis de Caminho**, semelhante ao que fizemos na constru√ß√£o dos endpoints da aplica√ß√£o, dentro das Classes Controladoras, no Backend. Os Par√¢metros da rota s√£o utilizados para enviar dados para o Componente associado a Rota. 

**Sintaxe:**

```tsx
<BrowserRouter>
	<Routes>
		<Route path="/rota/:variavel" element={<Componente />} />
    </Routes>
</BrowserRouter>
```

**Onde:**

- **:variavel** representa um Par√¢metro ou Vari√°vel de Caminho inserida dentro da rota

<br />

> [!CAUTION]
>
> **As rotas definidas atrav√©s do React Router DOM n√£o tem nenhum tipo de rela√ß√£o com as URL's dos endpoints, definidos no Backend. As rotas definidas no React s√£o utilizadas apenas para a navega√ß√£o interna, entre os Componentes React.**

<br />

<h4>2.2.2. Hook useParams</h4>



O Hook **useParams** √© um Hook fornecido pela Biblioteca React Router DOM, que √© utilizado para acessar os Par√¢metros (Vari√°veis de Caminho), inseridos em uma rota criada pelo React Router DOM. Quando voc√™ define uma rota que inclui segmentos din√¢micos (como o ID ou nome de um usu√°rio, por exemplo), o Hook useParams extrai esses valores da rota e os disponibiliza dentro do Componente que a rota est√° associada, atrav√©s de vari√°veis JavaScript/TypeScript.

**Sintaxe:**

```tsx
const { parametro_01, parametro_02, ..., parametro_N } = useParams();
```

Note que para extrair os Par√¢metros da rota, ser√° necess√°rio utilizar a **Atribui√ß√£o por Desestrutura√ß√£o**, onde dentro das chaves ser√£o adicionadas vari√°veis, separadas por virgula, com **os mesmos nomes dos Par√¢metros adicionados na rota**, que ser√£o extra√≠dos da rota atrav√©s do Hook **useParams()**.

**Exemplo:**

üëâ **Defini√ß√£o da Rota:**

```tsx
<Route path="/usuarios/:id" element={<Perfil />} />
```

üëâ **Hook useParams no Componente Perfil:**

```tsx
import { useParams } from 'react-router-dom';

function Perfil() {
  
    const { id } = useParams();

  return (
    <div>
		`Par√¢metro id: ${id}`;
	</div>
  );
}

export default Perfil;
```

No exemplo acima, o par√¢metro **id** do usu√°rio foi adicionado no caminho da rota do Componente **Perfil** (**/usuarios/:id**), no Componente APP. No Componente Perfil, o Par√¢metro **id** ser√° extra√≠do da rota atrav√©s do Hook **useParams()** e armazenado na vari√°vel **id**. Na sequ√™ncia, o valor da vari√°vel **id** ser√° exibido na tela.

<br />

> [!CAUTION]
>
> **As Vari√°veis de Caminho criadas nas rotas definidas atrav√©s do React Router DOM n√£o tem nenhum tipo de rela√ß√£o com as vari√°veis de Caminho criadas nas URL's dos endpoints, definidos no Backend. As Vari√°veis de Caminho definidas nas rotas do React s√£o utilizadas apenas para a passagem de par√¢metros entre os Componentes React, atrav√©s das rotas.**

<br />

<h3>2.3. Navega√ß√£o</h3>



A etapa final do React Router DOM √© lidar com a Navega√ß√£o, ou seja, os links e os redirecionamentos de rotas. 

> O **Redirecionamento de Rotas** √© uma pr√°tica comum para controlar a navega√ß√£o e direcionar o usu√°rio para uma determinada p√°gina com base em determinadas condi√ß√µes.

<br />

<h4>2.3.1. Componente Link</h4>



Como vimos anteriormente no conte√∫do sobre HTML, a navega√ß√£o entre as p√°ginas de um site √© criada atrav√©s da tag HTML `<a>`, que cria Hyperlinks (links) para outras p√°ginas ou sites externos. 

O **React Router DOM** possui o seu pr√≥prio Componente para lidar com a navega√ß√£o atrav√©s de links. Este Componente √© o **Link**, que na pr√°tica √© um Componente que envolve o elemento (texto, imagem, entre outros), que voc√™ deseja inserir o link e redireciona o usu√°rio para o Componente associado a rota adicionada no Componente Link ao ser clicado.

**Sintaxe:**

```tsx
<Link to='rota' >
	Elemento onde o link ser√° criado
</Link>
```

**Onde:**

**to:** Equivalente a propriedade `href` da tag HTML `<a>`, √© a propriedade respons√°vel por indicar a rota para o Componente React que ser√° renderizado na tela do Navegador.

**Exemplo:**

```tsx
<Link to="/cadastro" className="text-indigo-800 hover:underline">
	Cadastre-se
</Link>
```

No exemplo acima, foi criado um link na palavra **Cadastre-se**, que ao ser clicado, renderizar√° na tela o Componente **Cadastro**, associado a rota **/cadastro**, criada atrav√©s do React Router DOM. 

<br />

> [!TIP]
>
> Dentro da tag do Componente **Link** podem ser adicionadas outras propriedades, como a propriedade **className**, que permite adicionar estiliza√ß√µes no elemento que receber√° o link, atrav√©s das Classes do Tailwind. Al√©m disso, tamb√©m √© poss√≠vel adicionar os eventos JavaScript, como o **onClick**, por exemplo, para executar uma fun√ß√£o TypeScript sempre que o link for clicado.

<br />

<h4>2.3.2. Hook useNavigate()</h4>



Um outro recurso de navega√ß√£o do React Router Dom √© o **Hook useNavigate()**. Assim como o Componente **Link**, o Hook **useNavigate()** permite que a pessoa usu√°ria possa navegar entre Componentes por dentro da aplica√ß√£o React, sem a necessidade de clicar em algum link ou bot√£o, criando um redirecionamento para outro Componente, de acordo com algumas regras pr√© estabelecidas. 

**Sintaxe:**

```tsx
// Criar a constante que receber√° o Hook useNavigate()
const navigate = useNavigate();

// Executa a fun√ß√£o navigate(), indicando uma rota espec√≠fica
navigate("rota");

```

Primeiro criamos a constante **navigate**, que ser√° definida como uma fun√ß√£o, que ter√° a responsabilidade de redirecionar para um outro Componente, baseado na rota associada.

Na sequ√™ncia, foi chamada a fun√ß√£o **navigate()**, que redirecionar√° a aplica√ß√£o para **uma rota espec√≠fica**, indicada no par√¢metro da fun√ß√£o **navigate()**.

**Exemplo:**

```tsx
import { useNavigate } from 'react-router-dom';

function Cadastro() {
  
    const navigate = useNavigate();

  function handleSubmit() {
    navigate('/login');
  }

  return (
    <button onClick={handleSubmit}>
      Ir para o Componente Login
    </button>
  );
}

export default Cadastro;
```

No exemplo acima, ao chamar a fun√ß√£o **handleSubmit** (clicar no bot√£o), o Componente Login, associado a rota **/login**, ser√° renderizado na tela do Navegador WEB, atrav√©s da fun√ß√£o **navigate**, que recebeu a rota **/login** como par√¢metro.

<br />

<h4>2.3.3. Hook useNavigate vs Componente Link</h4>



Vamos comparar as diferen√ßas entre os 2 principais recursos de Navega√ß√£o do React Router DOM:



| **Caracter√≠sticas**       | **useNavigate**                                              | **Link**                                                     |
| ------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **Tipo de navega√ß√£o**     | L√≥gica                                                       | Declarativa (via interface gr√°fica)                          |
| **Uso comum**             | Navega√ß√£o condicional, ap√≥s eventos ou l√≥gica                | Links de navega√ß√£o comuns em menus e p√°ginas                 |
| **Renderiza√ß√£o**          | N√£o renderiza elementos na UI                                | Renderiza um elemento HTML link (tag `<a>`)                  |
| **Controle do hist√≥rico** | Pode avan√ßar ou retroceder no hist√≥rico                      | N√£o tem controle direto sobre o hist√≥rico                    |
| **Recarga da p√°gina**     | N√£o recarrega a p√°gina                                       | N√£o recarrega a p√°gina                                       |
| **Acessibilidade**        | Pode n√£o ser naturalmente acess√≠vel via teclado              | Links s√£o acess√≠veis via teclado e mouse                     |
| **Usos comuns**           | - Redirecionar ap√≥s login/logout.<br />- Navegar ap√≥s verificar condi√ß√µes espec√≠ficas.<br />- Controlar o Hist√≥rico das p√°ginas (Avan√ßar e Voltar). | - Criar um menu de navega√ß√£o para a aplica√ß√£o.<br />- Links em p√°ginas ou rodap√©s.<br />- Bot√µes que redirecionam o usu√°rio para uma p√°gina diferente. |

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
